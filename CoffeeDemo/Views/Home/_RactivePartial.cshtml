

<script id='template-graph' type='text/ractive'>
    <div id="output-block" class="boxxy-inner" style="position: relative; width: 100%; height: 100%; display: block; box-sizing: border-box; overflow: auto;">

        <div class='temperatures'>

            <!-- header and options -->
            <div class='header'>
                <h2>Average high and low temperature</h2>

                <!-- switch between celsius and fahrenheit -->
                <div class='radio-group'>
                    <label>°C <input type='radio' name='{{degreeType}}' value='celsius' checked></label>
                    <label>°F <input type='radio' name='{{degreeType}}' value='fahrenheit'></label>
                </div>

                <!-- dropdown menu -->
                <select value='{{selectedIndex}}'>
                    {{#each cities:i}}
                    <option value='{{i}}'>{{name}}</option>
                    {{/each}}
                </select>
            </div>

            <!-- the chart -->
            <div class='bar-chart'>
                {{#with selectedCity}}

                <!-- 12 sections, one for each month -->
                {{#each months:i}}
                <div class='bar-group' style='width: {{ 100 / months.length }}%;'>

                    <!-- average high temperature -->
                    <div class='bar-outer high {{ (high >= 0) ? "positive" : "negative" }}' style='height: {{ scale(high) }}%;'>
                        <div class='bar-inner' style='background-color: {{ getColor(high) }};'></div>
                        <span>{{ format(high) }}</span>
                    </div>


                    <!-- average low temperature -->
                    <div class='bar-outer low {{ (low >= 0) ? "positive" : "negative" }}' style='height: {{ scale(low) }}%;'>
                        <div class='bar-inner' style='background-color: {{ getColor(low) }};'></div>
                        <span>{{ format(low) }}</span>
                    </div>

                    <!-- month label (JFMAMJJASOND) -->
                    <span class='month-label'>{{ monthNames[i] }}</span>
                </div>
                {{/each}}
                {{/with}}

                <!-- horizontal line representing freezing -->
                <div class='axis'></div>
            </div>
        </div>
    </div>
</script>

